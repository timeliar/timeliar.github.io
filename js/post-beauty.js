let postBeauty=function(){$d.each("li ruby",function(e){var a=e.parentNode;(a="LI"!=e.parentNode.tagName?e.parentNode.parentNode:a).addClass("ruby")}),$d.each("#artDetail table",function(e){e.wrap({className:"table-container"})}),$d.each(".highlight > .table-container",function(e){e.className="code-container"}),$d.each("figure.highlight",function(a){var t=a.child(".code-container"),e=a.child("figcaption"),i=(a.insertAdjacentHTML("beforeend",'<div class="operation"><span class="breakline-btn"><i class="ic i-align-left"></i></span><span class="copy-btn"><i class="ic i-clipboard"></i></span><span class="fullscreen-btn"><i class="ic i-expand"></i></span></div>'),a.child(".copy-btn"));i.addEventListener("click",function(e){var a=e.currentTarget,i="",n="";t.find("pre").forEach(function(e){n+=i+e.innerText,i="\n"}),clipBoard(n,function(e){a.child(".ic").className=e?"ic i-check":"ic i-times",a.blur(),showtip(LOCAL.copyright)})}),i.addEventListener("mouseleave",function(e){setTimeout(function(){e.target.child(".ic").className="ic i-clipboard"},1e3)});function n(e){e.currentTarget,a.hasClass("fullscreen")?(d(),l&&l(),pageScroll(a)):(a.addClass("fullscreen"),BODY.addClass("fullscreen"),r.child(".ic").className="ic i-compress",c&&c())}a.child(".breakline-btn").addEventListener("click",function(e){e=e.currentTarget;a.hasClass("breakline")?(a.removeClass("breakline"),e.child(".ic").className="ic i-align-left"):(a.addClass("breakline"),e.child(".ic").className="ic i-align-justify")});var s,c,l,r=a.child(".fullscreen-btn"),d=function(){a.removeClass("fullscreen"),a.scrollTop=0,BODY.removeClass("fullscreen"),r.child(".ic").className="ic i-expand"};r.addEventListener("click",n),e&&e.addEventListener("click",n),t&&300<t.height()&&(t.style.maxHeight="300px",t.insertAdjacentHTML("beforeend",'<div class="show-btn"><i class="ic i-angle-down"></i></div>'),(s=t.child(".show-btn")).child("i"),c=function(){t.style.maxHeight="",s.addClass("open")},l=function(){t.style.maxHeight="300px",s.removeClass("open")},s.addEventListener("click",function(e){s.hasClass("open")?(d(),l(),pageScroll(t)):c()}))}),$d.each("pre.mermaid > svg",function(e){e.style.maxWidth=""}),$d.each(".reward button",function(e){e.addEventListener("click",function(e){e.preventDefault();var a=$d("#qr");"inline-flex"===a.display()?transition(a,0):transition(a,1,function(){a.display("inline-flex")})})}),$d.each(".quiz > ul.options li",function(a){a.addEventListener("click",function(e){a.hasClass("correct")?(a.toggleClass("right"),a.parentNode.parentNode.addClass("show")):a.toggleClass("wrong")})}),$d.each(".quiz > p",function(a){a.addEventListener("click",function(e){a.parentNode.toggleClass("show")})}),$d.each(".quiz > p:first-child",function(e){var a=e.parentNode,i="choice";(a.hasClass("true")||a.hasClass("false"))&&(i="true_false"),a.hasClass("multi")&&(i="multiple"),a.hasClass("fill")&&(i="gap_fill"),a.hasClass("essay")&&(i="essay"),e.attr("data-type",LOCAL.quiz[i])}),$d.each(".quiz .mistake",function(e){e.attr("data-type",LOCAL.quiz.mistake)}),$d.each("div.tags a",function(e){e.className=["primary","success","info","warning","danger"][Math.floor(5*Math.random())]}),$d.each("#artDetail div.player",function(e){mediaPlayer(e,{type:e.attr("data-type"),mode:"order",btns:[]}).player.load(JSON.parse(e.attr("data-src"))).fetch()})};postBeauty();